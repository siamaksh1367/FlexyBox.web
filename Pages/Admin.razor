@page "/admin"
@attribute [Authorize]
@using FlexyBox.web.Components
@layout MainLayout

<AddCategory OnCategoryAdded="RefreshCategories" />

<CategoriesTable @ref="_categoriesTable" />

@code {
    private CategoriesTable _categoriesTable;

    private async Task RefreshCategories()
    {
        if (_categoriesTable != null)
        {
            await _categoriesTable.getCategories();
        }
    }
}